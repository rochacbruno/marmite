{% extends "base.html" %}
{% block main %}

        {%if current_page != "index.html" and author is not defined %}
        <div class="list-title">
            <article><strong> {{ title }} </strong></article>
        </div>
        {% endif %}
        {% if hero is defined and current_page == "index.html" %}
        <div class="hero">
            <article>
            {{hero}}
            </article>
        </div>
        {% endif %}
        {% if author is defined %}
        <div class="hero author-hero">
            <article>
            <h1>{{author.name}}</h1>
            <div class="author-hero-image">
                <img src="{{ author.avatar }}" alt="{{ author.name }}" class="avatar">
            </div>
            <div class="author-hero-bio">
                <p>{{author.bio}}</p>
            </div>
            {% if author.links %}
            <div class="author-hero-links">
                <ul>
                    {% for link in author.links %}
                    <li><a href="{{link.1}}">{{link.0}}</a></li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
            </article>
        </div>
        {% endif %}
        <div class="content-list">
            {%- for content in content_list %}
            <article class="content-list-item">
                <h2 class="content-title"><a href="./{{content.slug}}.html">{{ content.title | capitalize }}</a></h2>
                <p class="content-excerpt">
                    {% if content.description %}
                        {{ content.description | replace(from='"', to="") | truncate(length=250, end=" ...") }}
                    {% else %}
                        {{ content.html | striptags | trim_start_matches(pat=content.title) | truncate(length=250, end=" ...") }}
                    {%- endif %}
                    <a class="secondary" href="./{{content.slug}}.html">read more &rarr;</a>
                </p>
                {% if content.date -%}
                <footer class="data-tags-footer">
                    <span class="content-date"><a class="secondary" href="./{{content.slug}}.html">{{ content.date | default_date_format }}</a></span>
                    {% if content.tags -%}
                    <ul class="content-tags overflow-auto">
                        {% for tag in content.tags | slice(end=3) -%}
                            <li><a href="./tag-{{ tag | trim | slugify }}.html">{{ tag }}</a></li>
                        {%- endfor %}
                    </ul>
                    {%- endif %}
                </footer>
                {%- endif %}
            </article>
            {%- endfor %}
        </div>
        {% if total_pages is defined and total_pages > 1 %}
          {% include "pagination.html" ignore missing %}
        {% endif %}
{% endblock %}
